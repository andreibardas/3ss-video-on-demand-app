"use strict";(self.webpackChunk_3ss_video_on_demand_app=self.webpackChunk_3ss_video_on_demand_app||[]).push([[575],{575:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(885),s=n(791),a=n(689),o=n(670),i=n(165),c=n(982),u=n(861),d=n(87),l=n(184),p=function(){var t,e=(0,a.UO)().category_id,n=(0,s.useState)(1),p=(0,r.Z)(n,2),h=p[0],v=p[1],f=function(t,e){var n=(0,s.useState)(0),a=(0,r.Z)(n,2),o=a[0],d=a[1],l=(0,s.useState)(""),p=(0,r.Z)(l,2),h=p[0],v=p[1],f=(0,s.useState)([]),x=(0,r.Z)(f,2),g=x[0],_=x[1],w=(0,s.useState)(),y=(0,r.Z)(w,2),j=y[0],Z=y[1],m=(0,s.useState)(!1),b=(0,r.Z)(m,2),S=b[0],k=b[1],C=(0,s.useState)(!1),M=(0,r.Z)(C,2),I=M[0],U=M[1],z=function(){var n=(0,u.Z)((0,i.Z)().mark((function n(){var r,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k(!0),n.prev=1,n.next=4,fetch("https://video-proxy.3rdy.tv/api/vod/category/".concat(t,"/assets/?page=").concat(e,"&size=20"));case 4:return r=n.sent,n.next=7,r.json();case 7:s=n.sent,d(r.status),v(r.statusText),_((function(t){return 1===e?s.data.results:(0,c.Z)(new Set([].concat((0,c.Z)(t),(0,c.Z)(s.data.results))))})),U(s.data.total_results>0),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),Z(n.t0);case 17:k(!1);case 18:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(){return n.apply(this,arguments)}}();return(0,s.useEffect)((function(){z()}),[t,e]),{status:o,statusText:h,data:g,error:j,loading:S,hasMore:I}}(e,h),x=f.hasMore,g=f.loading,_=(f.error,f.data),w=(0,s.useRef)(),y=(0,s.useCallback)((function(t){g||(w.current&&w.current.disconnect(),w.current=new IntersectionObserver((function(t){console.log("visible"),t[0].isIntersecting&&v((function(t){return t+1}))})),t&&w.current.observe(t),console.log(t))}),[g,x]),j=null===(t=(0,o.z)("https://video-proxy.3rdy.tv/api/vod/category").data)||void 0===t?void 0:t.data.genres.find((function(t){return t.id.toString()===e?null===t||void 0===t?void 0:t.name:null}));return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Movies By Category Page"}),(0,l.jsxs)("p",{children:[null===j||void 0===j?void 0:j.name," Movies"]}),(0,l.jsx)("button",{onClick:function(){return console.log(_)},children:"console log movies by category"}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap"},children:_.map((function(t,e){return _.length===e+1?(0,l.jsx)(d.rU,{to:"/asset/".concat(t.id),children:(0,l.jsxs)("div",{ref:y,children:[(0,l.jsx)("img",{style:{width:"200px"},src:"https://www.themoviedb.org/t/p/w220_and_h330_face/".concat(t.poster_path)}),(0,l.jsx)("p",{children:t.original_title})]})},t.id):(0,l.jsx)(d.rU,{to:"/asset/".concat(t.id),children:(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{style:{width:"200px"},src:"https://www.themoviedb.org/t/p/w220_and_h330_face/".concat(t.poster_path)}),(0,l.jsx)("p",{children:t.original_title})]})},t.id)}))})]})}}}]);
//# sourceMappingURL=575.a0191669.chunk.js.map